<!DOCTYPE html>
<html>

<head>
<title>How far am I from the Bean?</title>
<body>

<button onclick="getLocation()">How far am I from the Bean, America's #1 tourist destination??</button>

<p id="demo"></p>

<script>
var x = document.getElementById("demo");

function getLocation() {
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(showPosition);
    } else { 
        x.innerHTML = "Geolocation is not supported by this browser.";
    }
}

Number.prototype.toRad = function() {
   return this * Math.PI / 180;
}

function showPosition(position) {
var lat2 = position.coords.latitude; 
var lon2 = position.coords.longitude; 
var lat1 = 41.882702; 
var lon1 = -87.619392; 

var R = 3959; // miles
var x1 = lat2-lat1;
var dLat = x1.toRad();  
var x2 = lon2-lon1;
var dLon = x2.toRad();  
var a = Math.sin(dLat/2) * Math.sin(dLat/2) + 
                Math.cos(lat1.toRad()) * Math.cos(lat2.toRad()) * 
                Math.sin(dLon/2) * Math.sin(dLon/2);  
var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a)); 
var d = R * c;
if (d > 100) {
x.innerHTML = "You're " + d + " miles from the Bean. This is so sad. Alexa " + "show me pictures of the bean.".link("https://www.google.com/search?biw=1440&bih=710&tbm=isch&sa=1&ei=NcI_W47qIvGg_QbL9LHAAw&q=cloud+gate&oq=cloud+gate&gs_l=img.3..0l2j0i67j0l7.10210.11300..11439...0....65.587.10......0....1..gws-wiz-img.......0i10.mLBdxn6BkxE");
} 
}


</script>

<br><br><br><br><br><br><br><br><br><br><br><br><p style="font-size:75%;">This site does not store your location information. Thanks to <a href="https://www.w3schools.com">w3schools.com</a> and <a href="https://stackoverflow.com"> Stack Overflow</a> for help with the code and <a href="https://www.movable-type.co.uk">Movable Type Scripts</a> for help with the math. </p>

</body>
</html>